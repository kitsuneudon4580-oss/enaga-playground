function A(n){let e,t;try{const s=_(n,r.__wbindgen_malloc,r.__wbindgen_realloc),o=l,i=r.check(s,o);return e=i[0],t=i[1],d(i[0],i[1])}finally{r.__wbindgen_free(e,t,1)}}function O(n){let e,t;try{const s=_(n,r.__wbindgen_malloc,r.__wbindgen_realloc),o=l,i=r.compile(s,o);return e=i[0],t=i[1],d(i[0],i[1])}finally{r.__wbindgen_free(e,t,1)}}function S(n){let e,t;try{const s=_(n,r.__wbindgen_malloc,r.__wbindgen_realloc),o=l,i=r.format_source(s,o);return e=i[0],t=i[1],d(i[0],i[1])}finally{r.__wbindgen_free(e,t,1)}}function T(n,e,t){let s,o;try{const i=_(n,r.__wbindgen_malloc,r.__wbindgen_realloc),a=l,c=r.get_completions(i,a,e,t);return s=c[0],o=c[1],d(c[0],c[1])}finally{r.__wbindgen_free(s,o,1)}}function M(n,e,t){let s,o;try{const i=_(n,r.__wbindgen_malloc,r.__wbindgen_realloc),a=l,c=r.get_hover(i,a,e,t);return s=c[0],o=c[1],d(c[0],c[1])}finally{r.__wbindgen_free(s,o,1)}}function R(n){let e,t;try{const s=_(n,r.__wbindgen_malloc,r.__wbindgen_realloc),o=l,i=r.get_inlay_hints(s,o);return e=i[0],t=i[1],d(i[0],i[1])}finally{r.__wbindgen_free(e,t,1)}}function j(n){let e,t;try{const s=_(n,r.__wbindgen_malloc,r.__wbindgen_realloc),o=l,i=r.get_semantic_tokens(s,o);return e=i[0],t=i[1],d(i[0],i[1])}finally{r.__wbindgen_free(e,t,1)}}function x(){r.init()}function W(n){const e=_(n,r.__wbindgen_malloc,r.__wbindgen_realloc),t=l;r.set_codegen_mode(e,t)}function v(n){const e=_(n,r.__wbindgen_malloc,r.__wbindgen_realloc),t=l;r.set_language(e,t)}function D(){return{__proto__:null,"./enaga_playground_wasm_bg.js":{__proto__:null,__wbg_error_a6fa202b58aa1cd3:function(e,t){let s,o;try{s=e,o=t,console.error(d(e,t))}finally{r.__wbindgen_free(s,o,1)}},__wbg_new_227d7c05414eb861:function(){return new Error},__wbg_stack_3b0d974bbf31e44f:function(e,t){const s=t.stack,o=_(s,r.__wbindgen_malloc,r.__wbindgen_realloc),i=l;k().setInt32(e+4,i,!0),k().setInt32(e+0,o,!0)},__wbindgen_init_externref_table:function(){const e=r.__wbindgen_externrefs,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)}}}}let u=null;function k(){return(u===null||u.buffer.detached===!0||u.buffer.detached===void 0&&u.buffer!==r.memory.buffer)&&(u=new DataView(r.memory.buffer)),u}function d(n,e){return n=n>>>0,I(n,e)}let g=null;function p(){return(g===null||g.byteLength===0)&&(g=new Uint8Array(r.memory.buffer)),g}function _(n,e,t){if(t===void 0){const c=y.encode(n),b=e(c.length,1)>>>0;return p().subarray(b,b+c.length).set(c),l=c.length,b}let s=n.length,o=e(s,1)>>>0;const i=p();let a=0;for(;a<s;a++){const c=n.charCodeAt(a);if(c>127)break;i[o+a]=c}if(a!==s){a!==0&&(n=n.slice(a)),o=t(o,s,s=a+n.length*3,1)>>>0;const c=p().subarray(o+a,o+s),b=y.encodeInto(n,c);a+=b.written,o=t(o,s,a,1)>>>0}return l=a,o}let m=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});m.decode();const E=2146435072;let h=0;function I(n,e){return h+=e,h>=E&&(m=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),m.decode(),h=e),m.decode(p().subarray(n,n+e))}const y=new TextEncoder;"encodeInto"in y||(y.encodeInto=function(n,e){const t=y.encode(n);return e.set(t),{read:n.length,written:t.length}});let l=0,r;function N(n,e){return r=n.exports,u=null,g=null,r.__wbindgen_start(),r}async function C(n,e){if(typeof Response=="function"&&n instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(n,e)}catch(o){if(n.ok&&t(n.type)&&n.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",o);else throw o}const s=await n.arrayBuffer();return await WebAssembly.instantiate(s,e)}else{const s=await WebAssembly.instantiate(n,e);return s instanceof WebAssembly.Instance?{instance:s,module:n}:s}function t(s){switch(s){case"basic":case"cors":case"default":return!0}return!1}}async function J(n){if(r!==void 0)return r;n!==void 0&&(Object.getPrototypeOf(n)===Object.prototype?{module_or_path:n}=n:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),n===void 0&&(n=new URL("/enaga-playground/assets/enaga_playground_wasm_bg-Co1wq24j.wasm",import.meta.url));const e=D();(typeof n=="string"||typeof Request=="function"&&n instanceof Request||typeof URL=="function"&&n instanceof URL)&&(n=fetch(n));const{instance:t,module:s}=await C(await n,e);return N(t)}let w=!1;function f(n){self.postMessage(n)}self.onmessage=async n=>{const e=n.data;if(e.type==="init"){await J(),x(),w=!0,f({type:"ready"});return}if(e.type==="setLanguage"){w&&v(e.lang);return}if(e.type==="setCodegenMode"){w&&W(e.mode);return}if(w)switch(e.type){case"compile":{const t=O(e.source);f({type:"compiled",id:e.id,result:JSON.parse(t)});break}case"check":{const t=A(e.source);f({type:"checked",id:e.id,diagnostics:JSON.parse(t)});break}case"completions":{const t=T(e.source,e.line,e.character);f({type:"completions",id:e.id,items:JSON.parse(t)});break}case"hover":{const t=M(e.source,e.line,e.character),s=JSON.parse(t);f({type:"hover",id:e.id,result:s||null});break}case"semanticTokens":{const t=j(e.source);f({type:"semanticTokens",id:e.id,tokens:JSON.parse(t)});break}case"inlayHints":{const t=R(e.source);f({type:"inlayHints",id:e.id,hints:JSON.parse(t)});break}case"format":{const t=S(e.source);f({type:"formatted",id:e.id,source:t});break}}};
